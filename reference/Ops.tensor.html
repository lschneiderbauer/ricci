<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Arithmetic tensor operations — Ops.tensor • ricci</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Arithmetic tensor operations — Ops.tensor"><meta name="description" content="Once a labeled array (tensor) has been defined, tensor arithmetic operations
can be carried out with the usual +, -, *, /, and == symbols."><meta property="og:description" content="Once a labeled array (tensor) has been defined, tensor arithmetic operations
can be carried out with the usual +, -, *, /, and == symbols."><meta property="og:image" content="https://lschneiderbauer.github.io/ricci/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ricci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ricci.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/tensor_fields.html">Tensor Fields</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lschneiderbauer/ricci/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Arithmetic tensor operations</h1>
      <small class="dont-index">Source: <a href="https://github.com/lschneiderbauer/ricci/blob/main/R/tensor_arith.R" class="external-link"><code>R/tensor_arith.R</code></a></small>
      <div class="d-none name"><code>Ops.tensor.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Once a labeled array (tensor) has been defined, tensor arithmetic operations
can be carried out with the usual <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, and <code>==</code> symbols.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'tensor'</span></span>
<span><span class="fu">Ops</span><span class="op">(</span><span class="va">e1</span>, <span class="va">e2</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-e-e-">e1, e2<a class="anchor" aria-label="anchor" href="#arg-e-e-"></a></dt>
<dd><p>Labeled arrays created with <a href="create-tensor.html">%_%</a>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A resulting labeled array in case of <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>.
<code>TRUE</code> or <code>FALSE</code> in case of <code>==</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="addition-and-subtraction">Addition and Subtraction<a class="anchor" aria-label="anchor" href="#addition-and-subtraction"></a></h2>
    <p>Addition and subtraction requires the two tensors to have an equal index
structure, i.e. the index names their position and the dimensions
associated to the index names have to agree.
The index order does not matter, the operation will match dimensions
by index name.</p>
    </div>
    <div class="section level2">
    <h2 id="multiplication">Multiplication<a class="anchor" aria-label="anchor" href="#multiplication"></a></h2>
    <p>Tensor multiplication takes into account implicit Ricci calculus rules
depending on index placement.</p><ul><li><p>Equal-named and opposite-positioned dimensions are contracted.</p></li>
<li><p>Equal-named and equal-positioned dimensions are subsetted.</p></li>
<li><p>The result is an outer product for distinct index names.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="division">Division<a class="anchor" aria-label="anchor" href="#division"></a></h2>
    <p>Division performs element-wise division. If the second argument is a
scalar, each element is simply divided by the scalar.
Similar to addition and subtraction, division requires the two tensors
to have an equal index structure, i.e. the index names their position
and the dimensions associated to the index names have to agree.</p>
    </div>
    <div class="section level2">
    <h2 id="equality-check">Equality check<a class="anchor" aria-label="anchor" href="#equality-check"></a></h2>
    <p>A tensor \(a_{i_1 i_2 ...}\) is equal to a tensor \(b_{j_1 j_2 ...}\) if
and only if the index structure agrees and all components are equal.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other tensor operations:
<code><a href="asym.html">asym</a>()</code>,
<code><a href="kron.html">kron</a>()</code>,
<code><a href="l.html">l</a>()</code>,
<code><a href="r.html">r</a>()</code>,
<code><a href="subst.html">subst</a>()</code>,
<code><a href="sym.html">sym</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fl">3</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># addition</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span> <span class="op">+</span> <span class="va">b</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">j</span>, <span class="va">i</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Labeled Array&gt; [2x2] .(-i, -j)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    5    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    8   11</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multiplication</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span> <span class="op">*</span> <span class="va">b</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="op">+</span><span class="va">i</span>, <span class="va">k</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Labeled Array&gt; [2x2] .(-j, -k)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   14   20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]   32   46</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># division</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span> <span class="op">/</span> <span class="fl">10</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Labeled Array&gt; [2x2] .(-i, -j)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  0.1  0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  0.2  0.4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># equality check</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span> <span class="op">==</span> <span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span> <span class="op">==</span> <span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">j</span>, <span class="va">i</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span><span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span> <span class="op">==</span> <span class="va">b</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># this will err because index structure does not agree</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span> <span class="op">==</span> <span class="va">a</span> <span class="op"><a href="create-tensor.html">%_%</a></span> <span class="fu"><a href="dot.html">.</a></span><span class="op">(</span><span class="va">k</span>, <span class="va">j</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lukas Schneiderbauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

