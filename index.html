<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Ricci Calculus for R • ricci</title>
<!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="katex-auto.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Ricci Calculus for R">
<meta name="description" content="Provides a compact R interface for performing tensor calculations. This is achieved by allowing (upper and lower) index labeling of R’s array and making use of Ricci calculus conventions.">
<meta property="og:description" content="Provides a compact R interface for performing tensor calculations. This is achieved by allowing (upper and lower) index labeling of R’s array and making use of Ricci calculus conventions.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ricci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/ricci.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/tensor_fields.html">Tensor Fields</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lschneiderbauer/ricci/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ricci">ricci<a class="anchor" aria-label="anchor" href="#ricci"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The goal of {ricci} is to provide a <em>compact</em><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;By compact interface, we mean an interface that is concise and non-verbose. The author is of the opinion that the less we need to write in order to express an intent, the less likely are we to make mistakes.&lt;/p&gt;"><sup>1</sup></a> R interface for performing <a href="https://en.wikipedia.org/wiki/Ricci_calculus" class="external-link">tensor calculations</a>. This is achieved by allowing (upper and lower) index labeling of R’s <code>array</code> and making use of Ricci calculus conventions to <em>implicitly</em> trigger <strong>contractions</strong> and diagonal subsetting. Explicit tensor operations, such as <strong>addition, subtraction and multiplication of tensors</strong> via the standard operators (<code>*</code>, <code>+</code>, <code>-</code>, <code>/</code>, <code>==</code>), <strong>raising and lowering indices</strong>, taking <strong>symmetric</strong> or <strong>antisymmetric tensor parts</strong>, as well as the <strong>Kronecker product</strong> are available. Common tensors like the Kronecker delta, Levi Civita epsilon, certain metric tensors, the Christoffel symbols, the Riemann as well as Ricci tensors are provided. The <strong>covariant derivative</strong> of tensor fields w.r.t to any metric tensor can be evaluated. An effort was made to provide the user with meaningful error messages.</p>
<p>{ricci} uses the <a href="https://calculus.eguidotti.com/" class="external-link">calculus</a> package (Guidotti 2022) behind the scenes to perform calculations and provides an alternative interface to a subset of its functionality. Notably, {<a href="https://calculus.eguidotti.com/" class="external-link">calculus</a>} also supports symbolic calculations which also enables {ricci} to do the same. Symbolic expressions are optionally (and transparently) simplified when the <a href="https://r-cas.github.io/ryacas/" class="external-link">Ryacas</a> package is installed.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of ricci from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"lschneiderbauer/ricci"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>The central object is R’s <code>array</code>. Adding index slot labels allows us to perform common tensor operations implicitly. After the desired calculations have been carried out we can remove the labels to obtain an ordinary <code>array</code>.</p>
<p>The following (admittedly very artificial) example shows how to express the contraction of two tensors, and subsequent symmetrization and diagonal subsetting. For demonstration purposes we use an arbitrary array of rank 3.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lschneiderbauer/ricci" class="external-link">ricci</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># numeric data</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="fl">2</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create labeled array (tensor)</span></span>
<span><span class="op">(</span><span class="va">a</span> <span class="op"><a href="reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="reference/dot-.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">*</span></span>
<span>  <span class="co"># mutliply with a labeled array (tensor) and raise index i and k</span></span>
<span>  <span class="va">a</span> <span class="op"><a href="reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="reference/dot-.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">l</span>, <span class="va">k</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/r.html">r</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">k</span>, g <span class="op">=</span> <span class="fu"><a href="reference/g_mink.html">g_mink_cart</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># * -i and +i as well as -k and +k dimension are implictely contracted</span></span>
<span>  <span class="co"># the result is a tensor of rank 2</span></span>
<span>  <span class="fu"><a href="reference/sym.html">sym</a></span><span class="op">(</span><span class="va">j</span>, <span class="va">l</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># symmetrize over i and l</span></span>
<span>  <span class="fu"><a href="reference/subst.html">subst</a></span><span class="op">(</span><span class="va">l</span> <span class="op">-&gt;</span> <span class="va">j</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># rename index and trigger diagonal subsetting</span></span>
<span>  <span class="fu"><a href="reference/as_a.html">as_a</a></span><span class="op">(</span><span class="va">j</span><span class="op">)</span> <span class="co"># we unlabel the tensor with index order (j)</span></span>
<span><span class="co">#&gt; [1] 8 8</span></span></code></pre></div>
<p>The same instructions work for a symbolic array:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># enable optional simplfying procedures</span></span>
<span><span class="co"># (takes a toll on performance)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>ricci.simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># symbolic data</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="fl">2</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">a</span> <span class="op"><a href="reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="reference/dot-.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">*</span></span>
<span>  <span class="co"># mutliply with a labeled array (tensor) and raise index i and k</span></span>
<span>  <span class="va">a</span> <span class="op"><a href="reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="reference/dot-.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">l</span>, <span class="va">k</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/r.html">r</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">k</span>, g <span class="op">=</span> <span class="fu"><a href="reference/g_mink.html">g_mink_cart</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># * -i and +i as well as -k and +k dimension are implictely contracted</span></span>
<span>  <span class="co"># the result is a tensor of rank 2</span></span>
<span>  <span class="fu"><a href="reference/sym.html">sym</a></span><span class="op">(</span><span class="va">j</span>, <span class="va">l</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># symmetrize over i and l</span></span>
<span>  <span class="fu"><a href="reference/subst.html">subst</a></span><span class="op">(</span><span class="va">l</span> <span class="op">-&gt;</span> <span class="va">j</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># rename index and trigger diagonal subsetting</span></span>
<span>  <span class="fu"><a href="reference/as_a.html">as_a</a></span><span class="op">(</span><span class="va">j</span><span class="op">)</span> <span class="co"># we unlabel the tensor with index order (j)</span></span>
<span><span class="co">#&gt; [1] "a1^2+a6^2-(a5^2+a2^2)" "a3^2+a8^2-(a7^2+a4^2)"</span></span></code></pre></div>
<p>For more details, see <code><a href="articles/ricci.html">vignette("ricci", package = "ricci")</a></code>. For more information about how to use tensor fields and the covariant derivative, see <code><a href="articles/tensor_fields.html">vignette("tensor_fields", package = "ricci")</a></code>.</p>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-guidotti2022" class="csl-entry">
Guidotti, Emanuele. 2022. “<strong>Calculus</strong>: High-Dimensional Numerical and Symbolic Calculus in <em>R</em>.” <em>Journal of Statistical Software</em> 104 (5). <a href="https://doi.org/10.18637/jss.v104.i05" class="external-link uri">https://doi.org/10.18637/jss.v104.i05</a>.
</div>
</div>
</div>
</div>


  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/lschneiderbauer/ricci/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/lschneiderbauer/ricci/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ricci</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Lukas Schneiderbauer <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-0975-6803" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/lschneiderbauer/ricci/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/lschneiderbauer/ricci/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/lschneiderbauer/ricci" class="external-link"><img src="https://codecov.io/gh/lschneiderbauer/ricci/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://CRAN.R-project.org/package=ricci" class="external-link"><img src="https://www.r-pkg.org/badges/version/ricci" alt="CRAN status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lukas Schneiderbauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
