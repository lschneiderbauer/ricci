<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ricci • ricci</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ricci">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ricci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/ricci.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/tensor_fields.html">Tensor Fields</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lschneiderbauer/ricci/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>ricci</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lschneiderbauer/ricci/blob/v0.1.1/vignettes/ricci.Rmd" class="external-link"><code>vignettes/ricci.Rmd</code></a></small>
      <div class="d-none name"><code>ricci.Rmd</code></div>
    </div>

    
    
<p>{ricci} uses nonstandard evaluation to specify tensor indices (see
<code><a href="../reference/dot.html">.()</a></code>). The main purpose of using nonstandard evaluation is
to safe a lot of quotation marks which otherwise would clutter the code
(<code>i</code> instead of <code>"i"</code>). Using nonstandard
evaluation also allows to specify some operations in more direct way
(e.g. substitution is specified as <code>subst(x, i -&gt; f)</code> is
short for substitute index <code>i</code> with <code>f</code>).</p>
<p>A key point about specifying the index labels is that we can make use
of <a href="https://en.wikipedia.org/wiki/Ricci_calculus" class="external-link">Ricci
calculus</a> conventions and pack a bunch of different operations into
one operator (<code>*</code>). There is no separate “inner product”,
“outer product”, “dot product”, “Kronecker product” nor “element-wise
product”. All products are represented by a single product
<code>*</code>. The arrangement of the indices determines what product
is carried out, as is in the spirit of <a href="https://en.wikipedia.org/wiki/Ricci_calculus" class="external-link">Ricci
calculus</a>.</p>
<p>In this package we are using the terms “labeled array” and “tensor”
synonymously. While in literature the word “tensor” is sometimes used to
specifically refer to a “tensor field” we do not make that
identification, and a tensor can exist without an underlying
differential manifold. To model tensor <em>fields</em> one can make use
of “symbolic” <code>array</code>s, i.e. arrays that do not contain
numerical values, but strings that contain mathematical expressions
(like <code>"sin(x)"</code> for <span class="math inline">sin(x)</span>,
where <code>x</code> can be interpreted as a manifold coordinate), see
<code><a href="../articles/tensor_fields.html">vignette("tensor_fields", package = "ricci")</a></code> for more
information.</p>
<p>A typical workflow when working with {ricci} is</p>
<ol style="list-style-type: decimal">
<li><p>Create labeled arrays from arrays.</p></li>
<li><p>Perform calculations making use of Ricci calculus
conventions.</p></li>
<li><p>Unlabel results to obtain normal <code><a href="https://rdrr.io/r/base/array.html" class="external-link">array()</a></code>
objects.</p></li>
</ol>
<div class="section level2">
<h2 id="creating-a-labeled-array-tensor">Creating a labeled array (tensor)<a class="anchor" aria-label="anchor" href="#creating-a-labeled-array-tensor"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lschneiderbauer/ricci" class="external-link">ricci</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="fl">2</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We can use the array <code>a</code> to create a labeled array
(tensor) with lower index labels i, j, and k:</p>
<p><span class="math display">
a_{ijk}
</span></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2x2] .(-i, -j, -k)</span></span></code></pre></div>
<p>By default, indices are assumed to be lower indices. We can use a “+”
prefix to create an upper index label.</p>
<p><span class="math display">
a_{ij}^{\;\;k}
</span></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="op">+</span><span class="va">k</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2x2] .(-i, -j, +k)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="performing-calculations">Performing calculations<a class="anchor" aria-label="anchor" href="#performing-calculations"></a>
</h2>
<p>Creating index labels on its own is not very interesting nor helpful.
The act of labeling tensor index slots becomes useful when the labels
are set such that they trigger implicit calculations, or they are
combined with other tensors via multiplication or addition.</p>
<div class="section level3">
<h3 id="contraction">Contraction<a class="anchor" aria-label="anchor" href="#contraction"></a>
</h3>
<p>Repeated index labels with opposite position are implicitly
contracted.</p>
<p><span class="math display">
b_k=a_{i\;k}^{\;i}
</span></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="op">+</span><span class="va">i</span>, <span class="va">k</span><span class="op">)</span></span>
<span><span class="va">b</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2] .(-k)</span></span>
<span><span class="co">#&gt; [1]  5 13</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="diagonal-subsetting">Diagonal subsetting<a class="anchor" aria-label="anchor" href="#diagonal-subsetting"></a>
</h3>
<p>Repeated labels on the same position (upper or lower) will trigger
diagonal subsetting.</p>
<p><span class="math display">
c_{ik}=a_{iik}
</span></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">c</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">i</span>, <span class="va">k</span><span class="op">)</span></span>
<span><span class="va">c</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2] .(-i, -k)</span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]    1    5</span></span>
<span><span class="co">#&gt; [2,]    4    8</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="outer-product">Outer product<a class="anchor" aria-label="anchor" href="#outer-product"></a>
</h3>
<p>The same conventions apply for arbitrary tensor multiplication.</p>
<p><span class="math display">
d_{ijklmn}=a_{ijk}a_{lmn}
</span></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">*</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">l</span>, <span class="va">m</span>, <span class="va">n</span><span class="op">)</span></span>
<span><span class="va">d</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2x2x2x2x2] .(-i, -j, -k, -l, -m, -n)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="inner-product">Inner product<a class="anchor" aria-label="anchor" href="#inner-product"></a>
</h3>
<p><span class="math display">
e=a_{ijk}a^{ijk}
</span></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">*</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="op">+</span><span class="va">i</span>, <span class="op">+</span><span class="va">j</span>, <span class="op">+</span><span class="va">k</span><span class="op">)</span></span>
<span><span class="va">e</span></span>
<span><span class="co">#&gt; &lt;Scalar&gt;</span></span>
<span><span class="co">#&gt; [1] 204</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="mixed-product-tensor-multiplication-w-contractions-and-subsetting">Mixed product: tensor multiplication w/ contractions and
subsetting<a class="anchor" aria-label="anchor" href="#mixed-product-tensor-multiplication-w-contractions-and-subsetting"></a>
</h3>
<p><span class="math display">
f_j=a_{ijk}a^{i\;k}_{\;j}
</span></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">*</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="op">+</span><span class="va">i</span>, <span class="va">j</span>, <span class="op">+</span><span class="va">k</span><span class="op">)</span></span>
<span><span class="va">f</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2] .(-j)</span></span>
<span><span class="co">#&gt; [1]  66 138</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="element-wise-product">Element-wise product<a class="anchor" aria-label="anchor" href="#element-wise-product"></a>
</h3>
<p><span class="math display">
g_{ijk}=a_{ijk}a_{ijk}
</span></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">*</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span></span>
<span><span class="va">g</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2x2] .(-i, -j, -k)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="kronecker-product">Kronecker product<a class="anchor" aria-label="anchor" href="#kronecker-product"></a>
</h3>
<p>A Kronecker product is simply a tensor product whose underlying
vector space basis is relabeled. In the present context this is realized
by combining multiple index labels into one. The associated dimension to
the new label is then simply the product of the dimensions associated to
the old index labels respectively.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">*</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">l</span>, <span class="va">m</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/kron.html">kron</a></span><span class="op">(</span><span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">l</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">r</span>, <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">j</span>, <span class="va">m</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">p</span>, <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">k</span>, <span class="va">n</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">q</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [4x4x4] .(-q, -p, -r)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="addition-and-substraction">Addition and Substraction<a class="anchor" aria-label="anchor" href="#addition-and-substraction"></a>
</h3>
<p>Tensor addition or subtraction is taking care of correct index slot
matching (by index labels), so the position of the index does not
matter.</p>
<p><span class="math display">
h_{ijk} = a_{ijk} + a_{jik}
</span></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">+</span> <span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">j</span>, <span class="va">i</span>, <span class="va">k</span><span class="op">)</span></span>
<span><span class="va">h</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2x2] .(-i, -j, -k)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="anti-symmetrization">(Anti-)symmetrization<a class="anchor" aria-label="anchor" href="#anti-symmetrization"></a>
</h3>
<p>Taking the symmetric or antisymmetric part w.r.t. certain indices is
a standard tool in Ricci calculus.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/sym.html">sym</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2x2] .(-i, -j, -k)</span></span>
<span><span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/sym.html">sym</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2x2] .(-i, -j, -k)</span></span>
<span></span>
<span><span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/asym.html">asym</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2x2] .(-i, -j, -k)</span></span>
<span><span class="va">a</span> <span class="op"><a href="../reference/create-tensor.html">%_%</a></span> <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/asym.html">asym</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Labeled Array&gt; [2x2x2] .(-i, -j, -k)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="unlabel-a-tensor">Unlabel a tensor<a class="anchor" aria-label="anchor" href="#unlabel-a-tensor"></a>
</h2>
<p>After we are done with our calculations we usually want to retrieve
an unlabeled array again to use the result elsewhere and get on with
life. In contrast to a labeled array (tensor) of this package an R
<code>array</code> has a well-defined dimension ordering and so when
stripping labels of a tensor one has to specify an index order.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/as_a.html">as_a</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span></span>
<span><span class="co">#&gt; , , 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]    1    9</span></span>
<span><span class="co">#&gt; [2,]    4   16</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]   25   49</span></span>
<span><span class="co">#&gt; [2,]   36   64</span></span></code></pre></div>
<p>The same works with the standard generic <code><a href="https://rdrr.io/r/base/array.html" class="external-link">as.array()</a></code>.
However, to avoid nonstandard evaluation in its S3 method, we wrap
indices using <code><a href="../reference/dot.html">.()</a></code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">as.array</a></span><span class="op">(</span><span class="va">g</span>, <span class="fu"><a href="../reference/dot.html">.</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">k</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; , , 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]    1    9</span></span>
<span><span class="co">#&gt; [2,]    4   16</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]   25   49</span></span>
<span><span class="co">#&gt; [2,]   36   64</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lukas Schneiderbauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
