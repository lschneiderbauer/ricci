<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Covariant Derivative — covd • ricci</title><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Covariant Derivative — covd"><meta name="description" content="Calculates the (symbolic) covariant derivative
\(\nabla_\rho a_{\mu_{1} \mu_{2} ...}^{\nu_{1}\nu_{2}...}\) with respect
to the Levi Civita connection of any (symbolic) tensor field.
The result is a new tensor of one rank higher than
the original tensor rank."><meta property="og:description" content="Calculates the (symbolic) covariant derivative
\(\nabla_\rho a_{\mu_{1} \mu_{2} ...}^{\nu_{1}\nu_{2}...}\) with respect
to the Levi Civita connection of any (symbolic) tensor field.
The result is a new tensor of one rank higher than
the original tensor rank."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ricci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ricci.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lschneiderbauer/ricci/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Covariant Derivative</h1>
      <small class="dont-index">Source: <a href="https://github.com/lschneiderbauer/ricci/blob/main/R/covd.R" class="external-link"><code>R/covd.R</code></a></small>
      <div class="d-none name"><code>covd.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates the (symbolic) covariant derivative
\(\nabla_\rho a_{\mu_{1} \mu_{2} ...}^{\nu_{1}\nu_{2}...}\) with respect
to the Levi Civita connection of any (symbolic) tensor field.
The result is a new tensor of one rank higher than
the original tensor rank.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">covd</span><span class="op">(</span><span class="va">x</span>, <span class="va">i</span>, act_on <span class="op">=</span> <span class="cn">NULL</span>, g <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A labeled tensor object, created by <code><a href="create-tensor.html">%_%</a></code> or <code><a href="create-tensor.html">tensor()</a></code>. <code>covd()</code> only
handles symbolic derivatives, i.e. the tensor components are required to be
<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>-valued and consist of mathematical expressions in terms of
coordinates identical to the coordinates used by <code>g</code>.</p></dd>


<dt id="arg-i">i<a class="anchor" aria-label="anchor" href="#arg-i"></a></dt>
<dd><p>An index slot label specification created with <code><a href="dot-.html">.()</a></code>. The number of
indices specify the number of covariant derivatives taken in the same
order. Each covariant derivative adds one index each with the specified
names. After the covariant derivatives are calculated, implicit contraction
rules are applied (in case of reoccurring index label names).</p></dd>


<dt id="arg-act-on">act_on<a class="anchor" aria-label="anchor" href="#arg-act-on"></a></dt>
<dd><p>An optional index slot label specification created with <code><a href="dot-.html">.()</a></code> that
specifies on which indices the covariant derivative should act on.
This might
be useful if not all tensor factors are elements of the tangent space of
the underlying manifold. If not provided the covariant derivative acts on
all indices. If no indices are selected explicitly (with <code><a href="dot-.html">.()</a></code>),
the covariant derivative acts like it would on a scalar.</p></dd>


<dt id="arg-g">g<a class="anchor" aria-label="anchor" href="#arg-g"></a></dt>
<dd><p>A covariant metric tensor, a "metric_field" object. See <code><a href="metric_field.html">metric_field()</a></code>
to create a new metric tensor, or use predefined metrics,
e.g. <code><a href="g_eucl.html">g_eucl_cart()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The covariant derivative: a new labeled array with one or more additional
indices (depending on <code>i</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note that symbolic derivatives are not always completely trustworthy.
They usually ignore subtle issues like undefined expressions at certain
points. The example \(\nabla_a \nabla^a r^{-1}\) from below is telling:
The symbolic derivative
evaluates to zero identically, although strictly speaking the derivative
is not defined at \(r = 0\).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Wikipedia: <a href="https://en.wikipedia.org/wiki/Covariant_derivative" class="external-link">Covariant Derivative</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># gradient of "sin(sqrt(x1^2+x2^2+x3^2))" in 3-dimensional euclidean space</span></span></span>
<span class="r-in"><span><span class="fu">covd</span><span class="op">(</span><span class="st">"sin(x1)"</span>, <span class="fu"><a href="dot-.html">.</a></span><span class="op">(</span><span class="va">k</span><span class="op">)</span>, g <span class="op">=</span> <span class="fu"><a href="g_eucl.html">g_eucl_cart</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Labeled Array&gt; [3] .(-k)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "cos(x1)" "0"       "0"      </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># laplace operator</span></span></span>
<span class="r-in"><span><span class="fu">covd</span><span class="op">(</span><span class="st">"sin(x1)"</span>, <span class="fu"><a href="dot-.html">.</a></span><span class="op">(</span><span class="op">-</span><span class="va">k</span>, <span class="op">+</span><span class="va">k</span><span class="op">)</span>, g <span class="op">=</span> <span class="fu"><a href="g_eucl.html">g_eucl_cart</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Scalar&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "-sin(x1)"</span>
<span class="r-in"><span><span class="fu">covd</span><span class="op">(</span><span class="st">"1/r"</span>, <span class="fu"><a href="dot-.html">.</a></span><span class="op">(</span><span class="op">-</span><span class="va">k</span>, <span class="op">+</span><span class="va">k</span><span class="op">)</span>, g <span class="op">=</span> <span class="fu"><a href="g_eucl.html">g_eucl_sph</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Scalar&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2/r^3"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lukas Schneiderbauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

